<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dota TI Helper - Player Statistics</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body>
    {% from 'macros.html' import page_header, selection_card, context_selector %}
    
    <div class="container">
        {{ page_header("Dota TI Helper", "Player Statistics & Analysis") }}
        
        <div class="content">
            <!-- Selection Grid -->
            <div class="selection-grid">
                {{ selection_card(
                    title="League",
                    icon="üèÜ",
                    id="leagueSelect",
                    name="league_id",
                    options=leagues,
                    placeholder="Select a league...",
                    disabled=false
                ) }}
                
                {{ selection_card(
                    title="Team",
                    icon="üë•",
                    id="teamSelect",
                    name="team_id",
                    options=[],
                    placeholder="Select a team...",
                    disabled=true
                ) }}
                
                {{ selection_card(
                    title="Player",
                    icon="üë§",
                    id="playerSelect",
                    name="player_id",
                    options=[],
                    placeholder="Select a player...",
                    disabled=true
                ) }}
                
                {{ selection_card(
                    title="Hero",
                    icon="‚öîÔ∏è",
                    id="heroSelect",
                    name="hero_id",
                    options=heroes,
                    placeholder="Select a hero...",
                    disabled=true
                ) }}
            </div>

            <!-- Advanced Mode Toggle -->
            <div class="advanced-mode-toggle">
                <button id="toggleAdvancedMode" class="toggle-btn">
                    üîß Toggle Advanced Analysis Mode
                </button>
            </div>

            <!-- Advanced Selection Grid (Hidden by default) -->
            <div id="advancedSelectionGrid" class="advanced-selection-grid hidden">
                <div class="advanced-selection-card">
                    <h3>ü§ù Friendly Hero</h3>
                    <select id="friendlyHeroSelect" disabled>
                        <option value="">Select friendly hero...</option>
                    </select>
                </div>
                
                <div class="advanced-selection-card">
                    <h3>‚öîÔ∏è Enemy Hero 1</h3>
                    <select id="enemyHero1Select" disabled>
                        <option value="">Select enemy hero...</option>
                    </select>
                </div>
                
                <div class="advanced-selection-card">
                    <h3>‚öîÔ∏è Enemy Hero 2</h3>
                    <select id="enemyHero2Select" disabled>
                        <option value="">Select enemy hero...</option>
                    </select>
                </div>
                
                <div class="advanced-selection-card">
                    <h3>üéØ Side</h3>
                    <select id="sideSelect" disabled>
                        <option value="">Select side...</option>
                        <option value="radiant">Radiant</option>
                        <option value="dire">Dire</option>
                    </select>
                </div>
            </div>

            <!-- Mode Instructions -->
            <div id="modeInstructions" class="mode-instructions hidden">
                <p><strong>Advanced Mode:</strong> Select a hero and additional parameters for detailed lane matchup analysis.</p>
            </div>

            <!-- Stats Section -->
            <div id="statsSection" class="stats-section hidden">
                <div id="statsContent">
                    <!-- Stats will be loaded here dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- External JavaScript -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
